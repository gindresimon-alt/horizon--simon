---
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";

interface Props {
	article: CollectionEntry<"articles">;
}

const { article } = Astro.props;
const { title, description, heroImage, pubDate, category } = article.data;

const formattedDate = pubDate.toLocaleDateString("fr-FR", {
	year: "numeric",
	month: "long",
	day: "numeric",
});
---

<article class="group relative flex flex-col gap-4 overflow-hidden rounded-xl bg-white p-4 shadow-sm transition-all hover:shadow-md dark:bg-neutral-900">
	<div class="aspect-[16/9] overflow-hidden rounded-lg">
		<Image
			src={heroImage}
			alt={title}
			width={600}
			class="h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"
		/>
	</div>
	
	<div class="flex flex-col gap-2">
		<div class="flex items-center gap-2">
			<span class="rounded-full bg-primary-100 px-3 py-1 text-xs font-medium text-primary-700 dark:bg-primary-900 dark:text-primary-300">
				{category}
			</span>
			<time datetime={pubDate.toISOString()} class="text-xs text-neutral-500">
				{formattedDate}
			</time>
		</div>
		
		<h3 class="text-xl font-bold leading-tight text-neutral-900 group-hover:text-primary-600 dark:text-white dark:group-hover:text-primary-400">
			<a href={`/articles/${article.id}/`}>
				<span class="absolute inset-0"></span>
				{title}
			</a>
		</h3>
		
		<p class="line-clamp-2 text-sm text-neutral-600 dark:text-neutral-400">
			{description}
		</p>
	</div>
</article>
